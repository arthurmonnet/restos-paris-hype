<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurants Hype Paris 2024-2026</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * { box-sizing: border-box; }
        body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f5f5f5; }
        
        /* Tabs */
        .tabs {
            display: flex;
            background: white;
            border-bottom: 1px solid #e0e0e0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            font-weight: 600;
            color: #666;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.2s;
        }
        .tab.active {
            color: #007AFF;
            border-bottom-color: #007AFF;
        }
        .tab:hover { background: #f9f9f9; }
        
        /* Views */
        .view { display: none; padding-top: 54px; }
        .view.active { display: block; }
        
        /* Map */
        #map { height: calc(100vh - 54px); width: 100%; }
        
        /* List */
        .list-container { padding: 0; min-height: calc(100vh - 54px); }
        
        /* Filters */
        .filters-section {
            background: white;
            position: sticky;
            top: 54px;
            z-index: 100;
            border-bottom: 1px solid #eee;
        }
        .filter-row {
            display: flex;
            gap: 8px;
            padding: 12px 15px;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        .filter-row:first-child { padding-bottom: 6px; }
        .filter-row:last-child { padding-top: 6px; border-top: 1px solid #f0f0f0; }
        .filter-label {
            font-size: 11px;
            font-weight: 600;
            color: #999;
            text-transform: uppercase;
            padding: 8px 0;
            white-space: nowrap;
        }
        .filter-btn {
            padding: 8px 14px;
            border-radius: 20px;
            border: 1px solid #ddd;
            background: white;
            font-size: 13px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
        }
        .filter-btn.active {
            background: #007AFF;
            color: white;
            border-color: #007AFF;
        }
        .filter-btn:hover:not(.active) { background: #f5f5f5; }
        
        /* Restaurant cards */
        .restaurant-list { padding: 10px 15px 30px; }
        .restaurant-card {
            background: white;
            border-radius: 12px;
            padding: 15px;
            margin-bottom: 12px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        .restaurant-card.hidden { display: none; }
        .card-icon {
            width: 44px;
            height: 44px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            flex-shrink: 0;
        }
        .card-content { flex: 1; min-width: 0; }
        .card-name {
            font-weight: 600;
            font-size: 16px;
            margin-bottom: 4px;
            color: #1a1a1a;
        }
        .card-desc {
            font-size: 13px;
            color: #666;
            margin-bottom: 6px;
            line-height: 1.4;
        }
        .card-addr {
            font-size: 12px;
            color: #999;
        }
        .card-tags {
            display: flex;
            gap: 6px;
            margin-top: 8px;
            flex-wrap: wrap;
        }
        .card-tag {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 500;
        }
        .card-arr {
            background: #f0f0f0;
            color: #666;
        }
        .card-nav {
            background: #007AFF;
            color: white;
            padding: 10px 14px;
            border-radius: 8px;
            text-decoration: none;
            font-size: 13px;
            font-weight: 500;
            flex-shrink: 0;
            align-self: center;
        }
        .card-nav:hover { background: #0056b3; }
        
        /* No results */
        .no-results {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }
        .no-results.hidden { display: none; }
        
        /* Type colors */
        .type-pizza .card-icon { background: #ffeaec; }
        .type-pizza .card-tag:not(.card-arr) { background: #ffeaec; color: #e63946; }
        .type-italien .card-icon { background: #fff3e6; }
        .type-italien .card-tag:not(.card-arr) { background: #fff3e6; color: #f4a261; }
        .type-concept .card-icon { background: #e6f7f5; }
        .type-concept .card-tag:not(.card-arr) { background: #e6f7f5; color: #2a9d8f; }
        .type-monde .card-icon { background: #f3ebfa; }
        .type-monde .card-tag:not(.card-arr) { background: #f3ebfa; color: #9b5de5; }
        .type-gastro .card-icon { background: #e8edf3; }
        .type-gastro .card-tag:not(.card-arr) { background: #e8edf3; color: #1d3557; }
        
        /* Map popups */
        .legend { 
            background: white; 
            padding: 15px; 
            border-radius: 8px; 
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
            max-width: 200px;
        }
        .legend h4 { margin: 0 0 10px 0; font-size: 14px; }
        .legend-item { display: flex; align-items: center; margin: 5px 0; font-size: 12px; }
        .legend-color { width: 12px; height: 12px; border-radius: 50%; margin-right: 8px; }
        .popup-content h3 { margin: 0 0 5px 0; font-size: 16px; }
        .popup-content p { margin: 3px 0; font-size: 13px; color: #666; }
        .popup-content .tag { 
            display: inline-block; 
            background: #f0f0f0; 
            padding: 2px 8px; 
            border-radius: 10px; 
            font-size: 11px; 
            margin-top: 5px;
        }
        .popup-content .nav-btn {
            display: block;
            background: #007AFF;
            color: white;
            text-align: center;
            padding: 10px 15px;
            border-radius: 8px;
            text-decoration: none;
            margin-top: 10px;
            font-weight: 500;
            font-size: 14px;
        }
        .popup-content .nav-btn:hover { background: #0056b3; }
    </style>
</head>
<body>
    <!-- Tabs -->
    <div class="tabs">
        <div class="tab active" data-view="map">üó∫Ô∏è Carte</div>
        <div class="tab" data-view="list">üìã Liste</div>
    </div>
    
    <!-- Map View -->
    <div id="map-view" class="view active">
        <div id="map"></div>
    </div>
    
    <!-- List View -->
    <div id="list-view" class="view">
        <div class="list-container">
            <div class="filters-section">
                <div class="filter-row">
                    <span class="filter-label">Type</span>
                    <button class="filter-btn type-filter active" data-filter="all">Tous</button>
                    <button class="filter-btn type-filter" data-filter="pizza">üçï Pizza</button>
                    <button class="filter-btn type-filter" data-filter="italien">üáÆüáπ Italien</button>
                    <button class="filter-btn type-filter" data-filter="concept">‚ú® Concepts</button>
                    <button class="filter-btn type-filter" data-filter="monde">üåç Monde</button>
                    <button class="filter-btn type-filter" data-filter="gastro">‚≠ê Gastro</button>
                </div>
                <div class="filter-row">
                    <span class="filter-label">Arr.</span>
                    <button class="filter-btn arr-filter active" data-arr="all">Tous</button>
                    <button class="filter-btn arr-filter" data-arr="2">2e</button>
                    <button class="filter-btn arr-filter" data-arr="3">3e</button>
                    <button class="filter-btn arr-filter" data-arr="5">5e</button>
                    <button class="filter-btn arr-filter" data-arr="6">6e</button>
                    <button class="filter-btn arr-filter" data-arr="8">8e</button>
                    <button class="filter-btn arr-filter" data-arr="9">9e</button>
                    <button class="filter-btn arr-filter" data-arr="10">10e</button>
                    <button class="filter-btn arr-filter" data-arr="11">11e</button>
                    <button class="filter-btn arr-filter" data-arr="15">15e</button>
                    <button class="filter-btn arr-filter" data-arr="16">16e</button>
                    <button class="filter-btn arr-filter" data-arr="17">17e</button>
                </div>
            </div>
            <div class="restaurant-list" id="restaurant-list"></div>
            <div class="no-results hidden" id="no-results">Aucun restaurant trouv√© ü§∑</div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>
        const restaurants = [
            // PIZZERIAS
            { name: "Rori", lat: 48.8678, lng: 2.3789, type: "pizza", desc: "Pizza slice NY √ó Rome, par l'√©quipe de Bouche", addr: "96 rue Jean-Pierre Timbaud", arr: "11", icon: "üçï" },
            { name: "Antica Pizzeria Da Michele", lat: 48.8533, lng: 2.3711, type: "pizza", desc: "Institution napolitaine depuis 1870", addr: "19 Faubourg Saint-Antoine", arr: "11", icon: "üçï" },
            { name: "Pizza Viva", lat: 48.8442, lng: 2.3505, type: "pizza", desc: "P√¢te levain centenaire, par Pane Vivo", addr: "Quartier Latin", arr: "5", icon: "üçï" },
            { name: "R√¥tisserie Segar", lat: 48.8418, lng: 2.3498, type: "concept", desc: "Volailles de 105 jours @frerespoulet", addr: "111 rue Mouffetard", arr: "5", icon: "üêî" },
            { name: "Pizi", lat: 48.8620, lng: 2.3650, type: "pizza", desc: "Pizzas romaines croustillantes", addr: "Paris", arr: "10", icon: "üçï" },
            { name: "Osteria degli Amici", lat: 48.8686, lng: 2.3412, type: "pizza", desc: "Pizzas en forme de c≈ìur ‚ù§Ô∏è", addr: "Paris", arr: "2", icon: "üçï" },
            
            // ITALIENS
            { name: "Sant Ambroeus", lat: 48.8539, lng: 2.3338, type: "italien", desc: "Institution milanaise l√©gendaire", addr: "Saint-Germain-des-Pr√©s", arr: "6", icon: "üáÆüáπ" },
            { name: "Altro Frenchie", lat: 48.8649, lng: 2.3456, type: "italien", desc: "Par le chef Greg Marchand", addr: "Sentier", arr: "2", icon: "üáÆüáπ" },
            { name: "Vinello", lat: 48.8867, lng: 2.3189, type: "italien", desc: "Bistronomie transalpine", addr: "Batignolles", arr: "17", icon: "üáÆüáπ" },
            { name: "Ischia", lat: 48.8467, lng: 2.2892, type: "italien", desc: "Par Denny Imbroisi (ex-Lignac)", addr: "Paris", arr: "15", icon: "üáÆüáπ" },
            { name: "Adela", lat: 48.8712, lng: 2.3456, type: "italien", desc: "P√¢tes fra√Æches, d√©cor Art Nouveau", addr: "Grands Boulevards", arr: "9", icon: "üáÆüáπ" },
            { name: "Cassaro's", lat: 48.8535, lng: 2.3348, type: "italien", desc: "Dolce Vita ann√©es 50", addr: "Saint-Germain-des-Pr√©s", arr: "6", icon: "üáÆüáπ" },
            { name: "Pezzopane", lat: 48.8630, lng: 2.3622, type: "italien", desc: "Paninis napolitains maison", addr: "Marais", arr: "3", icon: "üáÆüáπ" },
            
            // CONCEPTS HYPE
            { name: "Envie le Banquet", lat: 48.8656, lng: 2.3612, type: "concept", desc: "Buffet √† volont√© anti-gaspi par Eloy Spinnler", addr: "148 rue du Temple", arr: "3", icon: "‚ú®" },
            { name: "De Vie", lat: 48.8600, lng: 2.3700, type: "concept", desc: "Bar cocktails √ó gastro, ex-Little Red Door", addr: "Paris", arr: "3", icon: "üç∏" },
            { name: "Wukong The Grand Master", lat: 48.8722, lng: 2.3656, type: "concept", desc: "Cocktails + dim sum, d√©co Wong Kar-wai", addr: "Canal Saint-Martin", arr: "10", icon: "ü•ü" },
            
            // CUISINES DU MONDE
            { name: "Gourou", lat: 48.8556, lng: 2.3878, type: "monde", desc: "Street-food indienne revisit√©e", addr: "42 rue L√©on Frot", arr: "11", icon: "üáÆüá≥" },
            { name: "Jamrock", lat: 48.8650, lng: 2.3750, type: "monde", desc: "Cuisine jama√Øcaine", addr: "Paris", arr: "11", icon: "üáØüá≤" },
            { name: "Mazmez", lat: 48.8600, lng: 2.3500, type: "monde", desc: "Libanais par @pari_beyrouth", addr: "Paris", arr: "3", icon: "üá±üáß" },
            { name: "Ypseli", lat: 48.8656, lng: 2.3478, type: "monde", desc: "N√©o-taverne grecque", addr: "Montorgueil", arr: "2", icon: "üá¨üá∑" },
            { name: "Jip", lat: 48.8589, lng: 2.3800, type: "monde", desc: "Maison cor√©enne", addr: "Voltaire", arr: "11", icon: "üá∞üá∑" },
            { name: "La Joie", lat: 48.8550, lng: 2.3650, type: "monde", desc: "Sri-lankais", addr: "Paris", arr: "3", icon: "üá±üá∞" },
            { name: "SENsation", lat: 48.8656, lng: 2.3800, type: "monde", desc: "Chinois raffin√© par Samuel Lee", addr: "rue Saint-Maur", arr: "11", icon: "üá®üá≥" },
            
            // GASTRO / BISTRONOMIE
            { name: "IRWIN", lat: 48.8550, lng: 2.3400, type: "gastro", desc: "Par Irwin Durand (ex-Guy Savoy)", addr: "Paris", arr: "6", icon: "‚≠ê" },
            { name: "Geo√©lia", lat: 48.8650, lng: 2.2750, type: "gastro", desc: "Chef √©toil√© Camille Saint M'leux", addr: "Paris", arr: "16", icon: "‚≠ê" },
            { name: "Zostera", lat: 48.8670, lng: 2.2780, type: "gastro", desc: "Chef Julien Dumas, gastro po√©tique", addr: "Paris", arr: "16", icon: "‚≠ê" },
            { name: "Aqua Kyoto", lat: 48.8698, lng: 2.3075, type: "gastro", desc: "Rooftop japonais, vue Tour Eiffel", addr: "26 Champs-√âlys√©es", arr: "8", icon: "üóº" }
        ];

        const typeLabels = {
            pizza: "Pizza",
            italien: "Italien", 
            concept: "Concept",
            monde: "Cuisine du monde",
            gastro: "Gastro"
        };

        let activeType = 'all';
        let activeArr = 'all';

        // Tab switching
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
                tab.classList.add('active');
                document.getElementById(tab.dataset.view + '-view').classList.add('active');
                if (tab.dataset.view === 'map') {
                    map.invalidateSize();
                }
            });
        });

        // Build list
        const listContainer = document.getElementById('restaurant-list');
        restaurants.forEach(r => {
            const mapsUrl = `https://maps.apple.com/?q=${encodeURIComponent(r.name + ' ' + r.addr + ' Paris ' + r.arr + 'e')}`;
            const card = document.createElement('div');
            card.className = `restaurant-card type-${r.type}`;
            card.dataset.type = r.type;
            card.dataset.arr = r.arr;
            card.innerHTML = `
                <div class="card-icon">${r.icon}</div>
                <div class="card-content">
                    <div class="card-name">${r.name}</div>
                    <div class="card-desc">${r.desc}</div>
                    <div class="card-addr">üìç ${r.addr}</div>
                    <div class="card-tags">
                        <span class="card-tag">${typeLabels[r.type]}</span>
                        <span class="card-tag card-arr">${r.arr}e arr.</span>
                    </div>
                </div>
                <a href="${mapsUrl}" target="_blank" class="card-nav">Y aller</a>
            `;
            listContainer.appendChild(card);
        });

        function applyFilters() {
            let visibleCount = 0;
            document.querySelectorAll('.restaurant-card').forEach(card => {
                const typeMatch = activeType === 'all' || card.dataset.type === activeType;
                const arrMatch = activeArr === 'all' || card.dataset.arr === activeArr;
                if (typeMatch && arrMatch) {
                    card.classList.remove('hidden');
                    visibleCount++;
                } else {
                    card.classList.add('hidden');
                }
            });
            document.getElementById('no-results').classList.toggle('hidden', visibleCount > 0);
        }

        // Type filters
        document.querySelectorAll('.type-filter').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.type-filter').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                activeType = btn.dataset.filter;
                applyFilters();
            });
        });

        // Arrondissement filters
        document.querySelectorAll('.arr-filter').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.arr-filter').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                activeArr = btn.dataset.arr;
                applyFilters();
            });
        });

        // Initialize map
        const map = L.map('map').setView([48.8566, 2.3522], 13);
        
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '¬© OpenStreetMap ¬© CARTO',
            subdomains: 'abcd',
            maxZoom: 20
        }).addTo(map);

        // Custom icons
        function createIcon(color) {
            return L.divIcon({
                className: 'custom-marker',
                html: `<div style="background:${color};width:24px;height:24px;border-radius:50%;border:3px solid white;box-shadow:0 2px 5px rgba(0,0,0,0.3);"></div>`,
                iconSize: [24, 24],
                iconAnchor: [12, 12],
                popupAnchor: [0, -12]
            });
        }

        const icons = {
            pizza: createIcon('#e63946'),
            italien: createIcon('#f4a261'),
            concept: createIcon('#2a9d8f'),
            monde: createIcon('#9b5de5'),
            gastro: createIcon('#1d3557')
        };

        // Add markers
        restaurants.forEach(r => {
            const marker = L.marker([r.lat, r.lng], { icon: icons[r.type] }).addTo(map);
            const mapsUrl = `https://maps.apple.com/?q=${encodeURIComponent(r.name + ' ' + r.addr + ' Paris ' + r.arr + 'e')}`;
            marker.bindPopup(`
                <div class="popup-content">
                    <h3>${r.name}</h3>
                    <p>${r.desc}</p>
                    <p><strong>üìç</strong> ${r.addr}, ${r.arr}e</p>
                    <span class="tag">${typeLabels[r.type]}</span>
                    <a href="${mapsUrl}" target="_blank" class="nav-btn">üìç Ouvrir dans Plans</a>
                </div>
            `);
        });

        // Legend
        const legend = L.control({ position: 'bottomright' });
        legend.onAdd = function(map) {
            const div = L.DomUtil.create('div', 'legend');
            div.innerHTML = `
                <h4>üçΩÔ∏è Restaurants Hype Paris</h4>
                <div class="legend-item"><div class="legend-color" style="background:#e63946"></div>Pizza</div>
                <div class="legend-item"><div class="legend-color" style="background:#f4a261"></div>Italien</div>
                <div class="legend-item"><div class="legend-color" style="background:#2a9d8f"></div>Concepts</div>
                <div class="legend-item"><div class="legend-color" style="background:#9b5de5"></div>Cuisines du monde</div>
                <div class="legend-item"><div class="legend-color" style="background:#1d3557"></div>Gastro</div>
            `;
            return div;
        };
        legend.addTo(map);
    </script>
</body>
</html>
